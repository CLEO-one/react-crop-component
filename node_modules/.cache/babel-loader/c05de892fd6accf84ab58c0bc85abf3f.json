{"ast":null,"code":"import _slicedToArray from\"/Users/yusufozlu/Desktop/Github-Project/react-crop-component/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import html2canvas from'html2canvas';import{createPortal}from'react-dom';var CropPortal=function CropPortal(_ref){var children=_ref.children,selector=_ref.selector,onLoad=_ref.onLoad;useEffect(function(){onLoad();},[]);//eslint-disable-line react-hooks/exhaustive-deps\nreturn createPortal(children,selector);};var CropComponent=function CropComponent(_ref2){var modalClassName=_ref2.modalClassName,_ref2$portalId=_ref2.portalId,portalId=_ref2$portalId===void 0?'canvas-portal':_ref2$portalId,Component=_ref2.Component,canvasConfigs=_ref2.canvasConfigs,imgStyle=_ref2.imgStyle,_ref2$buttonGroupStyl=_ref2.buttonGroupStyle,buttonGroupStyle=_ref2$buttonGroupStyl===void 0?{display:'flex',alignItems:'center',justifyContent:'space-between'}:_ref2$buttonGroupStyl,_ref2$buttonStyle=_ref2.buttonStyle,buttonStyle=_ref2$buttonStyle===void 0?{padding:8,margin:8,background:'#273CAF',color:'#fff',border:'none',outline:'none'}:_ref2$buttonStyle,_ref2$filename=_ref2.filename,filename=_ref2$filename===void 0?'download.png':_ref2$filename,_ref2$modalStyle=_ref2.modalStyle,modalStyle=_ref2$modalStyle===void 0?{position:'fixed',left:0,top:0,display:'flex',justifyContent:'center',alignItems:'center',flexDirection:'column',bottom:0,right:0,background:'rgba(3, 2, 38, 0.8)',zIndex:9999}:_ref2$modalStyle,_ref2$downloadStyle=_ref2.downloadStyle,downloadStyle=_ref2$downloadStyle===void 0?{padding:8,margin:8,background:'#36C2CE',color:'#fff'}:_ref2$downloadStyle,_ref2$DownloadButton=_ref2.DownloadButton,DownloadButton=_ref2$DownloadButton===void 0?function(_ref3){var canvasElement=_ref3.canvasElement,onClick=_ref3.onClick;return/*#__PURE__*/React.createElement(\"a\",{onClick:onClick,href:canvasElement&&canvasElement.toDataURL(),download:filename,style:downloadStyle},\"DOWNLOAD\");}:_ref2$DownloadButton,_ref2$CancelButton=_ref2.CancelButton,CancelButton=_ref2$CancelButton===void 0?function(_ref4){var onClick=_ref4.onClick;return/*#__PURE__*/React.createElement(\"button\",{style:buttonStyle,onClick:onClick},\"CANCEL\");}:_ref2$CancelButton,_ref2$CropButton=_ref2.CropButton,CropButton=_ref2$CropButton===void 0?function(_ref5){var onClick=_ref5.onClick;return/*#__PURE__*/React.createElement(\"button\",{style:buttonStyle,onClick:onClick},\"CROP COMPONENT\");}:_ref2$CropButton;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),crop=_useState2[0],setCrop=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),canvasElement=_useState4[0],setCanvasElement=_useState4[1];var myPortalContainer=document.getElementById(portalId);myPortalContainer.style='position: fixed;top: 100%';return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CropButton,{onClick:function onClick(){return setCrop(true);}}),crop&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CropPortal,{onLoad:function onLoad(){return html2canvas(myPortalContainer,canvasConfigs).then(function(canvas){setCanvasElement(canvas);});},selector:myPortalContainer,children:canvasElement?null:/*#__PURE__*/React.createElement(Component,null)}),canvasElement&&/*#__PURE__*/React.createElement(\"div\",{style:modalStyle},/*#__PURE__*/React.createElement(\"img\",{style:imgStyle,src:canvasElement&&canvasElement.toDataURL(),alt:\"Cropped Component\"}),/*#__PURE__*/React.createElement(\"div\",{style:buttonGroupStyle},/*#__PURE__*/React.createElement(CancelButton,{onClick:function onClick(){setCrop(false);setCanvasElement(null);}}),/*#__PURE__*/React.createElement(DownloadButton,{canvasElement:canvasElement,onClick:function onClick(){setCanvasElement(null);setCrop(false);}})))));};export default CropComponent;","map":{"version":3,"sources":["/Users/yusufozlu/Desktop/Github-Project/react-crop-component/src/CropComponent.js"],"names":["React","useState","useEffect","html2canvas","createPortal","CropPortal","children","selector","onLoad","CropComponent","modalClassName","portalId","Component","canvasConfigs","imgStyle","buttonGroupStyle","display","alignItems","justifyContent","buttonStyle","padding","margin","background","color","border","outline","filename","modalStyle","position","left","top","flexDirection","bottom","right","zIndex","downloadStyle","DownloadButton","canvasElement","onClick","toDataURL","CancelButton","CropButton","crop","setCrop","setCanvasElement","myPortalContainer","document","getElementById","style","then","canvas"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport html2canvas from 'html2canvas'\nimport { createPortal } from 'react-dom'\n\nconst CropPortal = ({ children, selector, onLoad }) => {\n  useEffect(() => {\n    onLoad()\n  }, []) //eslint-disable-line react-hooks/exhaustive-deps\n\n  return createPortal(children, selector)\n}\n\nconst CropComponent = ({\n  modalClassName,\n  portalId = 'canvas-portal',\n  Component,\n  canvasConfigs,\n  imgStyle,\n  buttonGroupStyle = {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  buttonStyle = {\n    padding: 8,\n    margin: 8,\n    background: '#273CAF',\n    color: '#fff',\n    border: 'none',\n    outline: 'none',\n  },\n  filename = 'download.png',\n  modalStyle = {\n    position: 'fixed',\n    left: 0,\n    top: 0,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'column',\n    bottom: 0,\n    right: 0,\n    background: 'rgba(3, 2, 38, 0.8)',\n    zIndex: 9999,\n  },\n  downloadStyle = {\n    padding: 8,\n    margin: 8,\n    background: '#36C2CE',\n    color: '#fff',\n  },\n\n  DownloadButton = ({ canvasElement, onClick }) => (\n    <a\n      onClick={onClick}\n      href={canvasElement && canvasElement.toDataURL()}\n      download={filename}\n      style={downloadStyle}\n    >\n      DOWNLOAD\n    </a>\n  ),\n  CancelButton = ({ onClick }) => (\n    <button style={buttonStyle} onClick={onClick}>\n      CANCEL\n    </button>\n  ),\n  CropButton = ({ onClick }) => (\n    <button style={buttonStyle} onClick={onClick}>\n      CROP COMPONENT\n    </button>\n  ),\n}) => {\n  const [crop, setCrop] = useState(false)\n  const [canvasElement, setCanvasElement] = useState(null)\n  const myPortalContainer = document.getElementById(portalId)\n  myPortalContainer.style = 'position: fixed;top: 100%'\n  return (\n    <>\n      <CropButton onClick={() => setCrop(true)} />\n      {crop && (\n        <>\n          <CropPortal\n            onLoad={() =>\n              html2canvas(myPortalContainer, canvasConfigs).then((canvas) => {\n                setCanvasElement(canvas)\n              })\n            }\n            selector={myPortalContainer}\n            children={canvasElement ? null : <Component />}\n          />\n          {canvasElement && (\n            <div style={modalStyle}>\n              <img\n                style={imgStyle}\n                src={canvasElement && canvasElement.toDataURL()}\n                alt='Cropped Component'\n              />\n              <div style={buttonGroupStyle}>\n                <CancelButton\n                  onClick={() => {\n                    setCrop(false)\n                    setCanvasElement(null)\n                  }}\n                />\n                <DownloadButton\n                  canvasElement={canvasElement}\n                  onClick={() => {\n                    setCanvasElement(null)\n                    setCrop(false)\n                  }}\n                />\n              </div>\n            </div>\n          )}\n        </>\n      )}\n    </>\n  )\n}\n\nexport default CropComponent\n"]},"metadata":{},"sourceType":"module"}